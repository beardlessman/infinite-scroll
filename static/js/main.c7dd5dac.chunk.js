(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,n){e.exports=n(71)},56:function(e,t,n){},58:function(e,t,n){},61:function(e,t,n){},63:function(e,t,n){},65:function(e,t,n){},67:function(e,t,n){},69:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(23),r=n.n(c),o=n(10),s=n(7),l=n(25),u=n(26),d=n(11),p=n(27),f=n.n(p).a.create({baseURL:"https://jsonplaceholder.typicode.com/",headers:{"Content-Type":"application/json"}}),h={getFeed:function(e){var t=e.id?"".concat("posts","?userId=").concat(e.id):"posts";return f.get("".concat(t))}},m=Object(s.c)({feed:function(){var e={list:[],isLoaded:!1,isLoading:!1};return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments.length>1?arguments[1]:void 0,a=n.type,i=n.payload;switch(a){case"GET_FEED_REQUEST":return Object(d.a)({},t,{isLoading:!0});case"GET_FEED_SUCCESS":return Object(d.a)({},t,{list:t.list.concat(i),isLoading:!1,isLoaded:!0});case"GET_FEED_FAILURE":return Object(d.a)({},t,{isLoading:!1});default:return t}}}()}),v=function(e){var t=e.dispatch;e.getState;return function(e){return function(n){if(!(a=n.promise)||"[object Function]"!=={}.toString.call(a))return e(n);var a,i,c=n.promise();return!(i=c)||"object"!==typeof i&&"function"!==typeof i||"function"!==typeof i.then?e(n):(n.type&&t({type:n.type}),c.then(function(e){return e}).catch(function(e){throw e}))}}},E=function(){var e=[v,l.a,Object(u.createLogger)({collapsed:!0})];return Object(s.e)(m,Object(s.d)(s.a.apply(void 0,e)))},b=n(1),y=n(2),j=n(4),O=n(3),g=n(5),_=(n(56),function(e){function t(){return Object(b.a)(this,t),Object(j.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return a.createElement("div",{className:"header"},a.createElement("div",{className:"header__inner"},this.props.children))}}]),t}(a.Component)),w=(n(58),function(e){function t(){return Object(b.a)(this,t),Object(j.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return a.createElement("div",{className:"layout"},a.createElement("div",{className:"layout__header"},a.createElement(_,null,"Infinite scroll demo")),a.createElement("div",{className:"layout__content"},a.createElement("div",{className:"layout__inner"},this.props.children)))}}]),t}(a.Component)),k=n(60).bind(n(61)),S=function(e){function t(e){var n;return Object(b.a)(this,t),(n=Object(j.a)(this,Object(O.a)(t).call(this,e))).relativeChildrenRef=null,n.setRelativeChildrenRef=function(e){return n.relativeChildrenRef=e},n.updateSticky=function(){console.log("update sticky");var e=n.relativeChildrenRef.getBoundingClientRect();console.log(e.top),console.log(window.innerHeight);var t=e.top<0;n.state.isActive&&!t?n.setState({isActive:!1}):!n.state.isActive&&t&&n.setState({isActive:!0})},n.state={isActive:!1},n}return Object(g.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateSticky),window.addEventListener("scroll",this.updateSticky),"undefined"!==typeof window&&this.updateSticky()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateSticky),window.removeEventListener("scroll",this.updateSticky)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,i=this.state.isActive;return a.createElement("div",{className:k(n,"sticky")},a.createElement("div",{className:k({sticky__container:!0,sticky__container_active:i})},t),a.createElement("div",{ref:this.setRelativeChildrenRef}))}}]),t}(a.PureComponent),C=(n(63),function(e){function t(){return Object(b.a)(this,t),Object(j.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return a.createElement("div",{className:"panel"},this.props.children)}}]),t}(a.Component)),L=(n(65),function(e){function t(){return Object(b.a)(this,t),Object(j.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return a.createElement("div",{className:"item"},this.props.data.title)}}]),t}(a.Component)),N=function(e,t){var n=e-.5+Math.random()*(t-e+1);return n=Math.round(n)},F=function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(n=Object(j.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(i)))).onScroll=function(){window.innerHeight+window.scrollY>=document.body.offsetHeight-100&&n.props.feed.list.length&&n.increaseFeed()},n.increaseFeed=function(){n.props.feed.isLoading||n.props.getFeed(N(1,10))},n}return Object(g.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.props.getFeed(1),window.addEventListener("scroll",this.onScroll,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScroll,!1)}},{key:"render",value:function(){var e=this.props.feed.list;return a.createElement("div",{className:"feed"},e.map(function(e,t){return a.createElement(L,{key:t,data:e})}),this.props.feed.isLoading&&a.createElement("span",null,"Loading..."))}}]),t}(a.Component),R=Object(o.b)(function(e){return{feed:e.feed}},{getFeed:function(e){return function(t){return t({type:"GET_FEED_REQUEST",promise:function(){return h.getFeed({id:e})}}).then(function(e){return t({type:"GET_FEED_SUCCESS",payload:e.data}),e}).catch(function(e){throw t({type:"GET_FEED_FAILURE",payload:e}),e})}}})(F),A=(n(67),function(e){function t(){return Object(b.a)(this,t),Object(j.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return a.createElement("div",{className:"page"},a.createElement(S,{className:"page__header"},a.createElement(C,null,"\u0412\u0435\u0440\u0445\u043d\u044f\u044f \u043f\u0430\u043d\u0435\u043b\u044c")),a.createElement("div",{className:"page__main"},a.createElement(S,{className:"page__sidebar"},a.createElement(C,null,"\u0411\u043e\u043a\u043e\u0432\u0430\u044f \u043f\u0430\u043d\u0435\u043b\u044c")),a.createElement("div",{className:"page__content"},a.createElement(R,null))))}}]),t}(a.Component)),T=function(e){function t(){return Object(b.a)(this,t),Object(j.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return a.createElement(w,null,a.createElement(A,null))}}]),t}(a.Component),U=(n(69),E());r.a.render(i.a.createElement(o.a,{store:U},i.a.createElement(T,null)),document.getElementById("root"))}},[[28,2,1]]]);
//# sourceMappingURL=main.c7dd5dac.chunk.js.map